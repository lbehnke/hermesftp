<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Oct 9, 2014 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
		Hermes FTP Server Project</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Lars Behnke" />
    <meta name="Date-Revision-yyyymmdd" content="20141009" />
    <meta http-equiv="Content-Language" content="en" />
        <meta name="keyword" content="ftp, java" />
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                                                <img src="images/hermesftp3.png" alt="Hermes FTP Server" />
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-10-09</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="http://github.com/" class="externalLink" title="Github">Github</a>
            |
                        <a href="http://www.ietf.org/rfc/rfc0775.txt" class="externalLink" title="RFC 775">RFC 775</a>
            |
                        <a href="http://www.ietf.org/rfc/rfc0959.txt" class="externalLink" title="RFC 959">RFC 959</a>
            |
                        <a href="http://www.ietf.org/rfc/rfc2228.txt" class="externalLink" title="RFC 2228">RFC 2228</a>
            |
                        <a href="http://www.ietf.org/rfc/rfc2389.txt" class="externalLink" title="RFC 2389">RFC 2389</a>
            |
                        <a href="http://www.ietf.org/rfc/rfc2428.txt" class="externalLink" title="RFC 2428">RFC 2428</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Hermes FTP Server</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="releases/latest" title="Download">Download</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
	
		<div class="section"><h2>User Management<a name="User_Management"></a></h2>
			<p>
				The default user manager is configured via the file
				<i>hermesftp-users.xml.</i>
				This XML file contains the information about all ftp user groups, their resource
				consumption limits and permissions granted on data folders. It contains also a list
				of all users known to the system.
			</p>
		<div class="section"><h3>Group Configuration<a name="Group_Configuration"></a></h3>
			<p>
				Users of the same group share similar permissions and resource consumption limits.
			</p>
			<p>
			Each resource consumption limit has a name and a corresponding value (see code snippet). Currently, there
			are four limits supported:
			</p><ul>
				<li>Bytes downloaded: Number of bytes the user is allowed to download per day.</li>
				<li>Bytes uploaded: Number of bytes the user is allowed to upload per day.</li>
				<li>Files downloaded: Number of files the user is allowed to download per day.</li>
				<li>Files uploaded: Number of files the user is allowed to upload per day.</li>
				<li>Download rate: Maximum data transfer rate in KB/s of download stream (-1 unlimited).</li>
				<li>Upload rate: Maximum data transfer rate  in KB/s  of upload stream (-1 unlimited).</li>
			</ul>
			
			<p>
			Each group contains a list of privileges granted on ftp data folders. You may use ANT style 
			file patterns to specify the folder(s) that
			underdo the security constraints. More information about these patterns is available
			<a class="externalLink" href="http://ant.apache.org/manual/index.html">here</a>.
			There are two placeholders that may be used in path names: ${ftproot} points to the ftp root folder. 
			It corresponds to
			the option <i>ftp.root.dir</i> in the application context file <i>hermesftp-ctx.xml</i>. 
			The expression ${user} is replaced by the user name.
			A permission level is assigned to each of the path patterns:
			</p><ul>
				<li>r: Read only access.</li>
				<li>rw: Read/writeaccess.</li>
			</ul>
			The following code snippet demonstrates a typical group configuration:
			
			<div class="source"><pre>
&lt;groups&gt;
    &lt;group name=&quot;users&quot; &gt;
        &lt;limits&gt;
            &lt;limit name=&quot;Bytes downloaded&quot; value=&quot;1000000&quot;/&gt;
            &lt;limit name=&quot;Bytes uploaded&quot; value=&quot;1000000&quot;/&gt;
            &lt;limit name=&quot;Files downloaded&quot; value=&quot;100&quot;/&gt;
            &lt;limit name=&quot;Files uploaded&quot; value=&quot;100&quot;/&gt;
            &lt;limit name=&quot;Download rate&quot; value=&quot;-1&quot;/&gt;
            &lt;limit name=&quot;Upload rate&quot; value=&quot;-1&quot;/&gt;
        &lt;/limits&gt;
        &lt;permissions&gt;
            &lt;permission flag=&quot;rw&quot; path=&quot;${ftproot}/${user}/**&quot;/&gt;
            &lt;permission flag=&quot;rw&quot; path=&quot;${ftproot}/${user}&quot;/&gt;
            &lt;permission flag=&quot;r&quot; path=&quot;${ftproot}&quot;/&gt;
        &lt;/permissions&gt;
    &lt;/group&gt;
    ...
&lt;/groups&gt;
			</pre></div>

            <p>For sake of security you should configure at least two groups: 
			Users (with restricted data access permissions) and administrators (with full access permissions). 
			</p>
		</div>

		<div class="section"><h3>User Configuration<a name="User_Configuration"></a></h3>
		<p>
			Only users that are known to the application are granted access to data folders.
			A user is configured along with his/her login name, fullname, and password.
			Each of the users may be a member of several groups.

		</p>
		<p>
		    The user's password can be configured in plain text or as hashcode calculated by an supported  hash algorithm (e.g. MD5).
		    The name of the algorithm is prepended to a BASE64 encoded string, e.g. &quot;{MD5}Cwz8B/yoHJVquRgdhXb0qA==&quot;.
		    If the password does not start with a curly brace, it is handled as plain text.
		    Since Hermes FTP servers comes without GUI, the password hash is generated from the command line as follows:
		    </p><div class="source"><pre>
java -jar hermesftp-&lt;version&gt;.jar -password &lt;secretpassword&gt; &lt;algorithm&gt;
		    </pre></div>

		    Example:
		    <div class="source"><pre>
c:\develop&gt;java -jar hermesftp-0.2.jar -password sec MD5
Hash: {MD5}dEWco8+FqB35Dalf9ueiBw==
c:\develop&gt;
		    </pre></div>

		
		<p>
		The following code snippet demonstrates a typical user configuration:
		</p>

		<div class="source"><pre>
&lt;users default-dir=&quot;${ftproot}/${user}&quot;&gt;
    &lt;user uid=&quot;user&quot; 
             fullname=&quot;Test User&quot; 
             password=&quot;user&quot;&gt;
        &lt;group-ref name=&quot;users&quot;/&gt;
    &lt;/user&gt;
    &lt;user uid=&quot;admin&quot;
             fullname=&quot;Administrator&quot;
             adminrole=&quot;true&quot;
             password=&quot;{MD5}dEWco8+FqB35Dalf9ueiBw==&quot;&gt;
        &lt;group-ref name=&quot;users&quot;/&gt;
        &lt;group-ref name=&quot;administrators&quot;/&gt;
    &lt;/user&gt;
&lt;/users&gt;</pre></div>

		<p>You may omit the password to enable anonymous login. 
		Anonymous users must provide an email address as password.</p>
		</div>

		</div>


	

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2005-2014
                        <a href="https://github.com/lbehnke">Lars Behnke</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
