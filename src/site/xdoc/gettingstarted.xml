<?xml version="1.0" encoding="iso-8859-1"?>
<document>
	<properties>
		<title>Hermes FTP Server Project - Getting started</title>
		<author email="nospam.AT.larsbehnke.DOT.net">Lars Behnke</author>
	</properties>
	<meta
		name="keyword"
		content="ftp, java" />
	<body>
		<section name="Getting Started">
			<subsection name="Prerequisites">
				Hermes FTP Server requires Java 1.4.2 or later. Please check the java version
				installed on your system by typing the following command at the command prompt:
				<source>java -version</source>
				In case you have no java (or an outdated version) installed, you can get the latest version
				<a href="java.sun.com">here</a>
				. There are no further requirements for running the FTP server.
			</subsection>
			<subsection name="Installation">
			<p>
				Unzip the file hermesftp-&lt;version&gt;.zip into a target folder of your choice. Change into
				this folder and open the file <i>hermesftp-ctx.xml</i> with a text editor. Find the entry
				"ftp.root.dir" and change the corresponding value into your ftp data folder (e.g.
				c:/ftproot). If this entry is omitted, Hermes FTP Server will create a data folder <i>hermesftp</i> in the
				user's home directory. 
            </p>
            <p>
				In case you want to enable SSL, you have to set up a <a href="keystore.html">keystore</a> first.
				All other settings can remain as they are. The options bean configuration should look like following snippet.
				</p>
				<source>
&lt;bean id=&quot;options&quot;
         class=&quot;net.sf.hermesftp.common.FtpServerOptions&quot;
         singleton=&quot;true&quot;&gt;
	&lt;property name=&quot;properties&quot;&gt;
		&lt;props&gt;
			&lt;prop key=&quot;ftp.root.dir&quot;&gt;c:/ftproot&lt;/prop&gt;
			&lt;prop key=&quot;max.connections&quot;&gt;20&lt;/prop&gt;
			&lt;prop key=&quot;buffer.size&quot;&gt;2048&lt;/prop&gt;
			&lt;prop key=&quot;emulate.unix&quot;&gt;true&lt;/prop&gt;
			&lt;prop key=&quot;ftp.port&quot;&gt;21&lt;/prop&gt;
			&lt;prop key=&quot;ssl.force&quot;&gt;false&lt;/prop&gt;
			&lt;prop key=&quot;ssl.allow.explicit&quot;&gt;true&lt;/prop&gt;
			&lt;prop key=&quot;ssl.allow.implicit&quot;&gt;true&lt;/prop&gt;
			&lt;prop key=&quot;ssl.port.implicit&quot;&gt;990&lt;/prop&gt;
			&lt;prop key=&quot;ssl.keystore.file&quot;&gt;&lt;/prop&gt;
			&lt;prop key=&quot;ssl.keystore.password&quot;&gt;&lt;/prop&gt;
			&lt;prop key=&quot;ssl.cipher.suites&quot;&gt;&lt;/prop&gt;
			&lt;prop key=&quot;charset.ebcdic&quot;&gt;CP1047&lt;/prop&gt;
			&lt;prop key=&quot;charset.ascii&quot;&gt;ISO-8859-1&lt;/prop&gt;
		&lt;/props&gt;
	&lt;/property&gt;
&lt;/bean&gt;
				</source>
			</subsection>
			<subsection name="Running the server">
				Make sure you are still in the installation directory and issue the following
				command at the command prompt.
				<source>java -jar hermesftp.jar</source>
			</subsection>
			
			<subsection name="How to avoid firewall issues">
			 <p>
			 If you are running the ftp server behind a firewall, ftp clients will possibly experience 
			 problems transferring files, even though you opened the firewall for connections on port 21 (ftp) or
			 990 (ftp over ssl) respectively. 
			 This is because file data is transferred through a separate channel. The port of this data channel 
			 is defined by the ftp client (active transfer mode) or the ftp server (passive transfer mode).
			 Most of the firewall issues can be solved by making the clients use the passive transfer mode.
			 </p>
			 <p>
			 Hermes FTP Server supports both transfer modes. Moreover, you are free to 
			 define the port list available for passive data transfer in the application context
			 <i>hermesftp-ctx.xml</i>.
			 
			 </p>
			 
				<source>
&lt;bean id=&quot;options&quot;
         class=&quot;net.sf.hermesftp.common.FtpServerOptions&quot;
         singleton=&quot;true&quot;&gt;
	&lt;property name=&quot;properties&quot;&gt;
		&lt;props&gt;
			...
			&lt;prop key=&quot;allowed.passive.ports&quot;&gt;9000-9200,12000-12500&lt;/prop&gt;
			...
		&lt;/props&gt;
	&lt;/property&gt;
&lt;/bean&gt;
				</source>
				<p>
				If you omit this property, Hermes FTP Server lets the underlying OS decide on which data port to use.
				</p>
			</subsection>
		</section>
	</body>
</document>
